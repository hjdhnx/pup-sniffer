# Pup Sniffer

[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)](https://nodejs.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)](https://github.com)

åŸºäº Puppeteer å’Œ Fastify çš„è§†é¢‘èµ„æºå—…æ¢å™¨ Node.js ç‰ˆæœ¬ã€‚

> ğŸ¯ **é«˜æ€§èƒ½è§†é¢‘èµ„æºå—…æ¢å·¥å…·**ï¼Œæ”¯æŒå¤šå¹³å°éƒ¨ç½²ï¼Œæä¾›å®Œæ•´çš„ API æ¥å£å’Œç°ä»£åŒ– Web ç•Œé¢ã€‚

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶](#æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶)
- [API æ¥å£](#api-æ¥å£)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [æµ‹è¯•](#æµ‹è¯•)
- [å‘½ä»¤è¡Œå‚æ•°](#å‘½ä»¤è¡Œå‚æ•°)
- [ç¯å¢ƒå˜é‡](#ç¯å¢ƒå˜é‡)
- [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [æ–‡æ¡£](#æ–‡æ¡£)
- [å¼€å‘](#å¼€å‘)
- [è®¸å¯è¯](#è®¸å¯è¯)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ è§†é¢‘èµ„æºå—…æ¢ï¼ˆæ”¯æŒ m3u8ã€mp4 ç­‰æ ¼å¼ï¼‰
- ğŸŒ é¡µé¢æºç è·å–
- ğŸ“± æ”¯æŒ PC å’Œç§»åŠ¨è®¾å¤‡æ¨¡æ‹Ÿ
- ğŸ”§ è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
- ğŸš€ é«˜æ€§èƒ½ Fastify æœåŠ¡å™¨
- ğŸ¨ ç°ä»£åŒ– Web æ¼”ç¤ºç•Œé¢
- ğŸ“¦ æ”¯æŒæ‰“åŒ…æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ— éœ€å®‰è£… Node.js

## ç³»ç»Ÿè¦æ±‚

- **Chrome æµè§ˆå™¨**: ç³»ç»Ÿéœ€è¦å®‰è£… Chrome æµè§ˆå™¨ï¼ˆPuppeteer ä¾èµ–ï¼‰
- **Node.js**: ä»æºç è¿è¡Œéœ€è¦ Node.js >= 18.0.0
- **æ“ä½œç³»ç»Ÿ**: æ”¯æŒ Windowsã€Linuxã€macOS

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š
   - Windows: `pup-sniffer-win.exe`
   - Linux: `pup-sniffer-linux`
   - macOS (Intel): `pup-sniffer-macos`
   - macOS (Apple Silicon): `pup-sniffer-macos-arm64`

2. å°† `demo.html` æ–‡ä»¶æ”¾åœ¨äºŒè¿›åˆ¶æ–‡ä»¶åŒä¸€ç›®å½•ä¸‹

3. ç›´æ¥è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼š
   ```bash
   # Windows - é»˜è®¤ç«¯å£å¯åŠ¨
   ./pup-sniffer-win.exe
   
   # Windows - æŒ‡å®šç«¯å£å¯åŠ¨
   ./pup-sniffer-win.exe -port 8080
   
   # Linux/macOS - é»˜è®¤ç«¯å£å¯åŠ¨
   ./pup-sniffer-linux
   ./pup-sniffer-macos
   
   # Linux/macOS - æŒ‡å®šç«¯å£å¯åŠ¨
   ./pup-sniffer-linux -port 8080
   ./pup-sniffer-macos -port 8080
   
   # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
   ./pup-sniffer-win.exe --help
   ```

### æ–¹å¼äºŒï¼šä»æºç è¿è¡Œ

1. å®‰è£…ä¾èµ–ï¼š
   ```bash
   npm install
   ```

2. å¯åŠ¨æœåŠ¡ï¼š
   ```bash
   # é»˜è®¤ç«¯å£å¯åŠ¨ï¼ˆè‡ªåŠ¨æŸ¥æ‰¾å¯ç”¨ç«¯å£ï¼Œä»57573å¼€å§‹ï¼‰
   npm start
   
   # æˆ–ç›´æ¥ä½¿ç”¨ node å‘½ä»¤
   node server.cjs
   
   # æŒ‡å®šç«¯å£å¯åŠ¨
   node server.cjs -port 8080
   
   # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
   node server.cjs --help
   ```

æœåŠ¡é»˜è®¤åœ¨ http://localhost:57573 å¯åŠ¨ï¼ˆå¦‚æœç«¯å£è¢«å ç”¨ä¼šè‡ªåŠ¨æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£ï¼‰

## æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶

é¡¹ç›®æä¾›äº†å¤šç§æ„å»ºé€‰é¡¹ï¼Œæ”¯æŒä¸åŒçš„å‹ç¼©ç®—æ³•å’Œä¼˜åŒ–çº§åˆ«ï¼Œä»¥æ»¡è¶³ä¸åŒçš„ä½¿ç”¨éœ€æ±‚ã€‚

### ğŸ“¦ æ„å»ºé€‰é¡¹æ¦‚è§ˆ

| æ„å»ºç±»å‹ | å‹ç¼©ç®—æ³• | ä½“ç§¯ä¼˜åŒ– | é€‚ç”¨åœºæ™¯ |
|----------|----------|----------|----------|
| æ ‡å‡†ç‰ˆ | GZip | ä¸­ç­‰ | é€šç”¨éƒ¨ç½² |
| Brotliç‰ˆ | Brotli | è¾ƒé«˜ | ç½‘ç»œä¼ è¾“ä¼˜åŒ– |
| è½»é‡ç‰ˆ | Brotli | é«˜ | èµ„æºå—é™ç¯å¢ƒ |
| è¿·ä½ ç‰ˆ | Brotli | æœ€é«˜ | æè‡´ä½“ç§¯è¦æ±‚ |

### ğŸš€ å¿«é€Ÿæ„å»º

```bash
# æ„å»ºæ‰€æœ‰å¹³å°ï¼ˆæ ‡å‡†ç‰ˆï¼ŒGZipå‹ç¼©ï¼‰
npm run build

# æ„å»ºä¼˜åŒ–ç‰ˆæœ¬ï¼ˆæ¨èï¼ŒåŒ…å«å¤šç§å‹ç¼©é€‰é¡¹ï¼‰
npm run build:optimized

# æ„å»ºè¿·ä½ ç‰ˆæœ¬ï¼ˆæœ€å°ä½“ç§¯ï¼Œæ‰€æœ‰å¹³å°ï¼‰
npm run build:mini
```

### ğŸ¯ å¹³å°ç‰¹å®šæ„å»º

#### æ ‡å‡†ç‰ˆæœ¬ï¼ˆGZip å‹ç¼©ï¼‰
```bash
# Windows x64
npm run build:win

# Linux x64  
npm run build:linux

# macOS x64
npm run build:macos

# macOS ARM64
npm run build:macos-arm
```

#### Brotli å‹ç¼©ç‰ˆæœ¬ï¼ˆæ›´å°ä½“ç§¯ï¼‰
```bash
# Windows x64
npm run build:win:brotli

# Linux x64
npm run build:linux:brotli

# macOS x64
npm run build:macos:brotli

# macOS ARM64
npm run build:macos-arm:brotli
```

#### è½»é‡ç‰ˆæœ¬ï¼ˆä¼˜åŒ–é€‰é¡¹ï¼‰
```bash
# Windows x64
npm run build:win:lite

# Linux x64
npm run build:linux:lite

# macOS x64
npm run build:macos:lite

# macOS ARM64
npm run build:macos-arm:lite
```

#### è¿·ä½ ç‰ˆæœ¬ï¼ˆæœ€å°ä½“ç§¯ï¼‰
```bash
# Windows x64
npm run build:win:mini

# Linux x64
npm run build:linux:mini

# macOS x64
npm run build:macos:mini

# macOS ARM64
npm run build:macos-arm:mini
```

### âš™ï¸ æ„å»ºä¼˜åŒ–æŠ€æœ¯

é¡¹ç›®é‡‡ç”¨äº†å¤šç§ä¼˜åŒ–æŠ€æœ¯æ¥å‡å°æ‰“åŒ…ä½“ç§¯ï¼š

1. **å‹ç¼©ç®—æ³•**ï¼š
   - **GZip**ï¼šæ ‡å‡†å‹ç¼©ï¼Œå…¼å®¹æ€§å¥½
   - **Brotli**ï¼šæ›´é«˜å‹ç¼©ç‡ï¼Œä½“ç§¯å‡å°‘ 10-15%

2. **PKG ä¼˜åŒ–é€‰é¡¹**ï¼š
   - `--no-bytecode`ï¼šç¦ç”¨å­—èŠ‚ç ç¼“å­˜
   - `--public-packages=*`ï¼šå‡å°‘åŒ…è£…å¼€é”€
   - `--no-warnings`ï¼šå‡å°‘è¾“å‡ºä½“ç§¯

3. **èµ„æºæ’é™¤**ï¼š
   - é€šè¿‡ `.pkgignore` æ’é™¤å¼€å‘ã€æµ‹è¯•ã€æ–‡æ¡£æ–‡ä»¶
   - æ’é™¤å¤§å‹ä¾èµ–çš„éå¿…è¦éƒ¨åˆ†
   - æ™ºèƒ½æ’é™¤å¼€å‘ç¯å¢ƒä¸“ç”¨æ¨¡å—

4. **æ™ºèƒ½é…ç½®**ï¼š
   - ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ç¦ç”¨ `pino-pretty` æ—¥å¿—ç¾åŒ–
   - åŠ¨æ€æ£€æµ‹è¿è¡Œç¯å¢ƒï¼Œä¼˜åŒ–èµ„æºåŠ è½½

### ğŸ“Š ä½“ç§¯å¯¹æ¯”

ä»¥ Windows x64 ç‰ˆæœ¬ä¸ºä¾‹ï¼š

| ç‰ˆæœ¬ç±»å‹ | æ–‡ä»¶å¤§å° | å‹ç¼©ç‡ | è¯´æ˜ |
|----------|----------|--------|------|
| æ ‡å‡†ç‰ˆ | ~46 MB | - | GZip å‹ç¼© |
| Brotliç‰ˆ | ~44 MB | -4% | Brotli å‹ç¼© |
| è½»é‡ç‰ˆ | ~42 MB | -9% | Brotli + ä¼˜åŒ–é€‰é¡¹ |
| è¿·ä½ ç‰ˆ | ~41 MB | -11% | æœ€å¤§ä¼˜åŒ– |

### ğŸ› ï¸ é«˜çº§æ„å»º

å¦‚éœ€æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ä¼˜åŒ–æ„å»ºè„šæœ¬ï¼š

```bash
# è¿è¡Œä¼˜åŒ–æ„å»ºè„šæœ¬ï¼ˆåŒ…å«æ‰€æœ‰é€‰é¡¹ï¼‰
node build-optimized.js

# æŸ¥çœ‹è¯¦ç»†æ„å»ºæŒ‡å—
cat docs/BUILD_GUIDE.md
```

### ğŸ“‹ æ„å»ºè¦æ±‚

[æ‰“åŒ…å·¥å…·pkgå®‰è£…å‚è€ƒ](https://www.jb51.net/javascript/329845uie.htm)

**ç³»ç»Ÿè¦æ±‚**ï¼š
- Node.js >= 18.0.0
- npm æˆ– yarn
- è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ï¼ˆæ„å»ºè¿‡ç¨‹éœ€è¦çº¦ 200MB ä¸´æ—¶ç©ºé—´ï¼‰

**ä¾èµ–å®‰è£…**ï¼š
```bash
# å®‰è£…æ„å»ºä¾èµ–
npm install

# å…¨å±€å®‰è£… pkgï¼ˆå¯é€‰ï¼Œé¡¹ç›®å·²åŒ…å«ï¼‰
npm install -g pkg
```

æ„å»ºå®Œæˆåï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å°†è¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚

## API æ¥å£

### 1. è§†é¢‘å—…æ¢æ¥å£

**GET** `/sniffer`

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| url | string | âœ… | è¦å—…æ¢çš„é¡µé¢ URL |
| mode | string | âŒ | å—…æ¢æ¨¡å¼ï¼š0=å•ä¸ªé“¾æ¥ï¼Œ1=å¤šä¸ªé“¾æ¥ï¼ˆé»˜è®¤ï¼š0ï¼‰ |
| is_pc | string | âŒ | æ˜¯å¦æ¨¡æ‹Ÿ PCï¼š0=ç§»åŠ¨è®¾å¤‡ï¼Œ1=PCï¼ˆé»˜è®¤ï¼š0ï¼‰ |
| timeout | string | âŒ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ï¼š10000ï¼‰ |
| css | string | âŒ | ç­‰å¾…çš„ CSS é€‰æ‹©å™¨ |
| script | string | âŒ | é¡µé¢æ‰§è¡Œè„šæœ¬ï¼ˆBase64 ç¼–ç ï¼‰ |
| init_script | string | âŒ | é¡µé¢åˆå§‹åŒ–è„šæœ¬ï¼ˆBase64 ç¼–ç ï¼‰ |
| headers | string | âŒ | è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆæ¢è¡Œåˆ†éš”ï¼‰ |
| custom_regex | string | âŒ | è‡ªå®šä¹‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ |
| sniffer_exclude | string | âŒ | æ’é™¤åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ |

#### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "url": "https://example.com/video.m3u8",
    "headers": {
      "referer": "https://example.com",
      "user-agent": "Mozilla/5.0..."
    },
    "from": "https://example.com/play",
    "cost": "2345 ms",
    "code": 200,
    "msg": "è¶…çº§å—…æ¢è§£ææˆåŠŸ"
  },
  "timestamp": 1703123456789
}
```

### 2. é¡µé¢æºç è·å–æ¥å£

**GET** `/fetCodeByWebView`

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| url | string | âœ… | è¦è·å–æºç çš„é¡µé¢ URL |
| is_pc | string | âŒ | æ˜¯å¦æ¨¡æ‹Ÿ PCï¼š0=ç§»åŠ¨è®¾å¤‡ï¼Œ1=PCï¼ˆé»˜è®¤ï¼š0ï¼‰ |
| timeout | string | âŒ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ï¼š10000ï¼‰ |
| css | string | âŒ | ç­‰å¾…çš„ CSS é€‰æ‹©å™¨ |
| script | string | âŒ | é¡µé¢æ‰§è¡Œè„šæœ¬ï¼ˆBase64 ç¼–ç ï¼‰ |
| init_script | string | âŒ | é¡µé¢åˆå§‹åŒ–è„šæœ¬ï¼ˆBase64 ç¼–ç ï¼‰ |
| headers | string | âŒ | è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆæ¢è¡Œåˆ†éš”ï¼‰ |

#### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "content": "<!DOCTYPE html><html>...</html>",
    "headers": {
      "location": "https://example.com"
    },
    "cost": "1234 ms"
  },
  "timestamp": 1703123456789
}
```

### 3. å¥åº·æ£€æŸ¥æ¥å£

**GET** `/health`

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "status": "ok",
    "service": "pup-sniffer"
  },
  "timestamp": 1703123456789
}
```

### 4. æ´»è·ƒçŠ¶æ€æ¥å£

**GET** `/active`

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "active": true,
    "browser": "initialized",
    "timestamp": "2023-12-21T10:30:56.789Z"
  },
  "timestamp": 1703123456789
}
```

## ä½¿ç”¨ç¤ºä¾‹

**æ³¨æ„**ï¼šä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨é»˜è®¤ç«¯å£ 57573ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº† `-port` å‚æ•°æŒ‡å®šäº†å…¶ä»–ç«¯å£ï¼Œè¯·ç›¸åº”è°ƒæ•´ URL ä¸­çš„ç«¯å£å·ã€‚

### åŸºæœ¬å—…æ¢

```bash
# é»˜è®¤ç«¯å£
curl "http://localhost:57573/sniffer?url=https://example.com/play"

# è‡ªå®šä¹‰ç«¯å£ï¼ˆå¦‚æœä½¿ç”¨ -port 8080 å¯åŠ¨ï¼‰
curl "http://localhost:8080/sniffer?url=https://example.com/play"
```

### å¤šé“¾æ¥å—…æ¢

```bash
curl "http://localhost:57573/sniffer?url=https://example.com/play&mode=1&timeout=15000"
```

### PC æ¨¡å¼å—…æ¢

```bash
curl "http://localhost:57573/sniffer?url=https://example.com/play&is_pc=1"
```

### è‡ªå®šä¹‰è„šæœ¬å—…æ¢

```bash
# script éœ€è¦ Base64 ç¼–ç 
script_b64=$(echo "console.log('test')" | base64)
curl "http://localhost:57573/sniffer?url=https://example.com/play&script=$script_b64"
```

### è·å–é¡µé¢æºç 

```bash
curl "http://localhost:57573/fetCodeByWebView?url=https://example.com"
```

## æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
npm test
```

**æ³¨æ„**: æµ‹è¯•å‰è¯·ç¡®ä¿æœåŠ¡å™¨å·²å¯åŠ¨ (`npm start`)ã€‚

## å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `-port <ç«¯å£å·>` | æŒ‡å®šæœåŠ¡å™¨ç«¯å£å· (1-65535) | `-port 8080` |
| `-h, --help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | `--help` |

**ç«¯å£è¯´æ˜**ï¼š
- å¦‚æœä¸æŒ‡å®šç«¯å£å·ï¼Œç¨‹åºå°†ä» 57573 å¼€å§‹è‡ªåŠ¨æŸ¥æ‰¾å¯ç”¨ç«¯å£
- å¦‚æœæŒ‡å®šçš„ç«¯å£è¢«å ç”¨ï¼Œç¨‹åºä¼šæŠ¥é”™å¹¶é€€å‡º
- ç«¯å£å·å¿…é¡»åœ¨ 1-65535 èŒƒå›´å†…

## ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| HOST | æœåŠ¡ä¸»æœºåœ°å€ | 0.0.0.0 |

**æ³¨æ„**: ç«¯å£é…ç½®è¯·ä½¿ç”¨ `-port` å‘½ä»¤è¡Œå‚æ•°ï¼Œä¸æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ç«¯å£ã€‚

## æ³¨æ„äº‹é¡¹

1. **Chrome ä¾èµ–**: éœ€è¦ç³»ç»Ÿå®‰è£… Chrome æµè§ˆå™¨
2. **å†…å­˜ä½¿ç”¨**: Puppeteer ä¼šæ¶ˆè€—è¾ƒå¤šå†…å­˜ï¼Œå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›‘æ§èµ„æºä½¿ç”¨
3. **è¶…æ—¶è®¾ç½®**: å»ºè®®æ ¹æ®ç›®æ ‡ç½‘ç«™çš„åŠ è½½é€Ÿåº¦åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´
4. **å¹¶å‘é™åˆ¶**: å½“å‰ç‰ˆæœ¬ä½¿ç”¨å•ä¸ªæµè§ˆå™¨å®ä¾‹ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½éœ€è¦ä¼˜åŒ–

## æ•…éšœæ’é™¤

### Chrome å¯åŠ¨å¤±è´¥

å¦‚æœé‡åˆ° Chrome å¯åŠ¨å¤±è´¥ï¼Œå¯ä»¥å°è¯•ï¼š

1. ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Chrome æµè§ˆå™¨
2. æ£€æŸ¥ç³»ç»Ÿæƒé™å’Œæ²™ç®±è®¾ç½®
3. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### å—…æ¢å¤±è´¥

å¦‚æœå—…æ¢å¤±è´¥ï¼Œå¯ä»¥ï¼š

1. å¢åŠ è¶…æ—¶æ—¶é—´
2. æ£€æŸ¥ç›®æ ‡ç½‘ç«™æ˜¯å¦æœ‰åçˆ¬è™«æœºåˆ¶
3. å°è¯•ä½¿ç”¨è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼
4. å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## ğŸ“š æ–‡æ¡£

- [API æ–‡æ¡£](docs/API_DOCS.md) - è¯¦ç»†çš„ API æ¥å£è¯´æ˜
- [æ„å»ºæŒ‡å—](docs/BUILD_GUIDE.md) - å®Œæ•´çš„æ„å»ºé…ç½®å’Œä¼˜åŒ–è¯´æ˜

## ğŸ”§ å¼€å‘

é¡¹ç›®é‡‡ç”¨ CommonJS æ¨¡å—åŒ–å¼€å‘ï¼Œä¸»è¦æ–‡ä»¶ï¼š

- `sniffer.cjs`: æ ¸å¿ƒå—…æ¢ç±»
- `server.cjs`: Fastify æœåŠ¡å™¨  
- `test.js`: æµ‹è¯•è„šæœ¬
- `package.json`: é¡¹ç›®é…ç½®
- `build-optimized.js`: ä¼˜åŒ–æ„å»ºè„šæœ¬
- `.pkgignore`: æ‰“åŒ…æ’é™¤æ–‡ä»¶é…ç½®

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd pup-sniffer

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# è¿è¡Œæµ‹è¯•
npm test
```

### ä»£ç è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License